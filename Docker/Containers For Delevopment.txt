#############  Use containers for development ###############


# Para criar um volume gerenciado
| docker volume create roach

| docker volume list

# O aplicativo de exemplo e o mecanismo de banco de dados vão se comunicar pela rede. 
# Existem diferentes tipos de configuração de rede possíveis, e vamos usar o que é chamado de rede de ponte definida pelo usuário. 
# Ele nos fornecerá um serviço de pesquisa de DNS para que possamos nos referir ao nosso contêiner de mecanismo de banco de dados por seu nome de host.

| docker network create -d bridge mynet

| docker network list



# Start the database engine

| docker run -d --name roach --hostname db --network mynet -p 26257:26257 -p 3000:8080  -v roach:/cockroach/cockroach-data cockroachdb/cockroach:latest-v20.1 start-single-node --insecure


# Configure the database engine

# Podemos fazer isso com a ajuda do shell SQL interno do CockroachDB. Para iniciar o shell SQL no mesmo contêiner em que o mecanismo de banco de dados está sendo executado, digite

| docker exec -it roach ./cockroach sql --insecure


# SQL
| CREATE DATABASE mydb;
| CREATE USER totoro;
| GRANT ALL ON DATABASE mydb TO totoro;
| quit ;
